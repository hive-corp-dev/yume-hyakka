---
import { sortTagsByKana } from "../../utils/articleTags";
import { getTagUrl } from "../../utils/articleTags";
const {tags, type} = Astro.props;
const sortedTags = sortTagsByKana(tags);
---

<ul class:list={["tag", type]}>
  {
    sortedTags.map((tag) => (
      <li class="tag__item">
        <a href={getTagUrl(tag.slug)} class="tag__link">
          <span>{tag.label}</span>
        </a>
      </li>
    ))
  }
</ul>

<style lang="scss">
.tag {
    display: flex;
    flex-wrap: wrap;
    gap: .8rem;
    margin-top: 4.8rem;

    @include mixin.sp {
      margin-top: 2.4rem;
    }
  }

  .tag__item {
  }

  .tag__link {
    display: block;
    background-image: linear-gradient(to right bottom, var.$c-key-1, var.$c-key-2);
    border-radius: .3rem;

    @include mixin.hover {
      &:hover {
        span {
          background-color: transparent;
          border-color: white;
          color: #fff;
        }
      }
    }

    span {
      position: relative;
      display: block;
      font-size: 1.6rem;
      font-weight: 600;
      border: .1rem solid rgba(0,0,0, .2);
      padding: .4rem 1.2rem .6rem;
      border-radius: .3rem;
      transition: all .3s;
      background-color: #fff;

      @include mixin.sp {
        font-size: 1.4rem;
        padding: .2rem 1rem .3rem;
      }

      &::before {
        content: '#';
        margin-right: .2rem;
      }
    }
  }


.tag.sidebar {
  margin-top: 2.4rem;

  .tag {

    &__link {
      span {
        padding: .2rem 1.2rem .3rem;
        font-size: 1.4rem;
      }
      
    }
  }
}

.tag.article-header {
  margin-top: 0;

  .tag {
    &__link {
      span {
        padding: .2rem 1.2rem .3rem;
        font-size: 1.4rem;
      }
    }
  }
}

.tag.article-footer {
  margin-top: 2.4rem;
  justify-content: center;

  @include mixin.sp {
    margin-top: 1.6rem;
  }

  .tag {
    &__link {
      span {
        padding: .2rem 1.2rem .3rem;
        font-size: 1.4rem;
      }
    }
  }
}

</style>
